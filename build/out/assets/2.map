{"version":3,"sources":["webpack:///./~/aurelia-loader-default/dist/commonjs/aurelia-loader-default.js"],"names":[],"mappings":";;;;;AAAA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;;;AAI5e;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;AAGA;;AAEA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,oCAAoC,QAAQ;AAC5C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,yQAAyQ;AACzQ;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA,C","file":"2.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DefaultLoader = exports.TextTemplateLoader = undefined;\n\nvar _aureliaLoader = require('aurelia-loader');\n\nvar _aureliaPal = require('aurelia-pal');\n\nvar _aureliaMetadata = require('aurelia-metadata');\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\nvar TextTemplateLoader = exports.TextTemplateLoader = function () {\n  function TextTemplateLoader() {\n    \n  }\n\n  TextTemplateLoader.prototype.loadTemplate = function loadTemplate(loader, entry) {\n    return loader.loadText(entry.address).then(function (text) {\n      entry.template = _aureliaPal.DOM.createTemplateFromMarkup(text);\n    });\n  };\n\n  return TextTemplateLoader;\n}();\n\nfunction ensureOriginOnExports(executed, name) {\n  var target = executed;\n  var key = void 0;\n  var exportedValue = void 0;\n\n  if (target.__useDefault) {\n    target = target['default'];\n  }\n\n  _aureliaMetadata.Origin.set(target, new _aureliaMetadata.Origin(name, 'default'));\n\n  for (key in target) {\n    exportedValue = target[key];\n\n    if (typeof exportedValue === 'function') {\n      _aureliaMetadata.Origin.set(exportedValue, new _aureliaMetadata.Origin(name, key));\n    }\n  }\n\n  return executed;\n}\n\nvar DefaultLoader = exports.DefaultLoader = function (_Loader) {\n  _inherits(DefaultLoader, _Loader);\n\n  function DefaultLoader() {\n    \n\n    var _this = _possibleConstructorReturn(this, _Loader.call(this));\n\n    _this.textPluginName = 'text';\n\n\n    _this.moduleRegistry = Object.create(null);\n    _this.useTemplateLoader(new TextTemplateLoader());\n\n    var that = _this;\n\n    _this.addPlugin('template-registry-entry', {\n      'fetch': function fetch(address) {\n        var entry = that.getOrCreateTemplateRegistryEntry(address);\n        return entry.templateIsLoaded ? entry : that.templateLoader.loadTemplate(that, entry).then(function (x) {\n          return entry;\n        });\n      }\n    });\n    return _this;\n  }\n\n  DefaultLoader.prototype.useTemplateLoader = function useTemplateLoader(templateLoader) {\n    this.templateLoader = templateLoader;\n  };\n\n  DefaultLoader.prototype.loadAllModules = function loadAllModules(ids) {\n    var loads = [];\n\n    for (var i = 0, ii = ids.length; i < ii; ++i) {\n      loads.push(this.loadModule(ids[i]));\n    }\n\n    return Promise.all(loads);\n  };\n\n  DefaultLoader.prototype.loadTemplate = function loadTemplate(url) {\n    return this._import(this.applyPluginToUrl(url, 'template-registry-entry'));\n  };\n\n  DefaultLoader.prototype.loadText = function loadText(url) {\n    return this._import(this.applyPluginToUrl(url, this.textPluginName)).then(function (textOrModule) {\n      if (typeof textOrModule === 'string') {\n        return textOrModule;\n      }\n\n      return textOrModule['default'];\n    });\n  };\n\n  return DefaultLoader;\n}(_aureliaLoader.Loader);\n\n_aureliaPal.PLATFORM.Loader = DefaultLoader;\n\nif (!_aureliaPal.PLATFORM.global.System || !_aureliaPal.PLATFORM.global.System.import) {\n  if (_aureliaPal.PLATFORM.global.requirejs && requirejs.s && requirejs.s.contexts && requirejs.s.contexts._ && requirejs.s.contexts._.defined) {\n    _aureliaPal.PLATFORM.eachModule = function (callback) {\n      var defined = requirejs.s.contexts._.defined;\n      for (var key in defined) {\n        try {\n          if (callback(key, defined[key])) return;\n        } catch (e) {}\n      }\n    };\n  } else {\n    _aureliaPal.PLATFORM.eachModule = function (callback) {};\n  }\n\n  DefaultLoader.prototype._import = function (moduleId) {\n    return new Promise(function (resolve, reject) {\n      require([moduleId], resolve, reject);\n    });\n  };\n\n  DefaultLoader.prototype.loadModule = function (id) {\n    var _this2 = this;\n\n    var existing = this.moduleRegistry[id];\n    if (existing !== undefined) {\n      return Promise.resolve(existing);\n    }\n\n    return new Promise(function (resolve, reject) {\n      require([id], function (m) {\n        _this2.moduleRegistry[id] = m;\n        resolve(ensureOriginOnExports(m, id));\n      }, reject);\n    });\n  };\n\n  DefaultLoader.prototype.map = function (id, source) {};\n\n  DefaultLoader.prototype.normalize = function (moduleId, relativeTo) {\n    return Promise.resolve(moduleId);\n  };\n\n  DefaultLoader.prototype.normalizeSync = function (moduleId, relativeTo) {\n    return moduleId;\n  };\n\n  DefaultLoader.prototype.applyPluginToUrl = function (url, pluginName) {\n    return pluginName + '!' + url;\n  };\n\n  DefaultLoader.prototype.addPlugin = function (pluginName, implementation) {\n    var nonAnonDefine = define;\n    nonAnonDefine(pluginName, [], {\n      'load': function load(name, req, onload) {\n        var result = implementation.fetch(name);\n        Promise.resolve(result).then(onload);\n      }\n    });\n  };\n} else {\n  _aureliaPal.PLATFORM.eachModule = function (callback) {\n    var modules = System._loader.modules;\n\n    for (var key in modules) {\n      try {\n        if (callback(key, modules[key].module)) return;\n      } catch (e) {}\n    }\n  };\n\n  System.set('text', System.newModule({\n    'translate': function translate(load) {\n      return 'module.exports = \"' + load.source.replace(/([\"\\\\])/g, '\\\\$1').replace(/[\\f]/g, '\\\\f').replace(/[\\b]/g, '\\\\b').replace(/[\\n]/g, '\\\\n').replace(/[\\t]/g, '\\\\t').replace(/[\\r]/g, '\\\\r').replace(/[\\u2028]/g, '\\\\u2028').replace(/[\\u2029]/g, '\\\\u2029') + '\";';\n    }\n  }));\n\n  DefaultLoader.prototype._import = function (moduleId) {\n    return System.import(moduleId);\n  };\n\n  DefaultLoader.prototype.loadModule = function (id) {\n    var _this3 = this;\n\n    return System.normalize(id).then(function (newId) {\n      var existing = _this3.moduleRegistry[newId];\n      if (existing !== undefined) {\n        return Promise.resolve(existing);\n      }\n\n      return System.import(newId).then(function (m) {\n        _this3.moduleRegistry[newId] = m;\n        return ensureOriginOnExports(m, newId);\n      });\n    });\n  };\n\n  DefaultLoader.prototype.map = function (id, source) {\n    System.map[id] = source;\n  };\n\n  DefaultLoader.prototype.normalizeSync = function (moduleId, relativeTo) {\n    return System.normalizeSync(moduleId, relativeTo);\n  };\n\n  DefaultLoader.prototype.normalize = function (moduleId, relativeTo) {\n    return System.normalize(moduleId, relativeTo);\n  };\n\n  DefaultLoader.prototype.applyPluginToUrl = function (url, pluginName) {\n    return url + '!' + pluginName;\n  };\n\n  DefaultLoader.prototype.addPlugin = function (pluginName, implementation) {\n    System.set(pluginName, System.newModule({\n      'fetch': function fetch(load, _fetch) {\n        var result = implementation.fetch(load.address);\n        return Promise.resolve(result).then(function (x) {\n          load.metadata.result = x;\n          return '';\n        });\n      },\n      'instantiate': function instantiate(load) {\n        return load.metadata.result;\n      }\n    }));\n  };\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/aurelia-loader-default/dist/commonjs/aurelia-loader-default.js\n// module id = 104\n// module chunks = 2"],"sourceRoot":""}